!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t){var e=d3.nest().key(function(t){return t.user}).entries(t);e.forEach(function(t){return t.numTweets=t.values.length});var n=d3.max(e,function(t){return t.numTweets}),r=d3.scale.linear().domain([0,n]).range([0,100]),a=d3.select("svg.bar").selectAll("g").data(e).enter().append("g").attr("transform",function(t,e){return"translate("+60*e+","+(130-r(t.numTweets))+")"});a.append("rect").attr("width",50).attr("height",function(t){return r(t.numTweets)}).style("fill","blue").style("stroke","red").style("stroke-width","1px").style("opacity",.4),a.append("text").text(function(t){return t.key+" ("+t.numTweets+")"})}function r(t){t.forEach(function(t){t.impact=t.favorites.length+t.retweets.length,t.tweetTime=new Date(t.timestamp),t.key=t.user+"-"+t.timestamp});var e=d3.max(t,function(t){return t.impact}),n=d3.extent(t,function(t){return t.tweetTime}),r=d3.time.scale().domain(n).range([20,480]),a=d3.scale.linear().domain([0,e]).range([1,460]),i=d3.scale.linear().domain([0,e]).range([1,20]),s=d3.scale.linear().domain([0,e]).range(["white","#990000"]),c=d3.select("svg.scatter").selectAll("g").data(t,function(t){return t.key}).enter().append("g").attr("transform",function(t){return"translate("+r(t.tweetTime)+","+(480-a(t.impact))+")"});c.append("circle").attr("r",function(t){return i(t.impact)}).style("fill",function(t){return s(t.impact)}).style("stroke","black").style("stroke-width","1px"),c.append("text").text(function(t){return t.user+"-"+t.tweetTime.getHours()}),d3.select("button").on("click",function(){var e=t.filter(function(t){return t.impact>0});d3.select("svg.scatter").selectAll("g").data(e,function(t){return t.key}).exit().remove()})}d3.json("tweets.json",function(t,e){n(e.tweets),r(e.tweets)})}]);